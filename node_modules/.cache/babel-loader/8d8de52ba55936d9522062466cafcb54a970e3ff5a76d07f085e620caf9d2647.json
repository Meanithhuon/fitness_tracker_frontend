{"ast":null,"code":"import _slicedToArray from\"/Users/claytonc/Desktop/Coding_Stuff/Bootcamp/strangers-things/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';var baseURL='https://strangers-things.herokuapp.com/api/2209-FTB-MT-WEB-PT';var Profile=function Profile(_ref){var username=_ref.username,password=_ref.password,token=_ref.token;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),messages=_useState2[0],setMessages=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),posts=_useState4[0],setPosts=_useState4[1];useEffect(function(){fetch(\"\".concat(baseURL,\"/users/me\"),{headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)}}).then(function(response){return response.json();}).then(function(result){setPosts(result.data.posts);setMessages(result.data.messages);console.log(result);console.log(posts);});},[]);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{id:\"profile\"},token?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",null,\"Welcome, \",\"\".concat(username),\"!\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"h2\",null,\"You have \",\"\".concat(posts.length),\" current Posts.\"),/*#__PURE__*/React.createElement(\"h2\",null,\"You have received \",\"\".concat(messages.length),\" Messages.\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h3\",null,\"Messages To Me:\"),/*#__PURE__*/React.createElement(\"p\",null,\"From User: \",\"\".concat(messages.username)),/*#__PURE__*/React.createElement(\"p\",null,\"\".concat(messages.content)))):/*#__PURE__*/React.createElement(\"p\",null,\"Sorry, you've reached a restricted page. Please login to view your profile\")));};export default Profile;","map":{"version":3,"names":["React","useEffect","useState","baseURL","Profile","username","password","token","messages","setMessages","posts","setPosts","fetch","headers","then","response","json","result","data","console","log","length","content"],"sources":["/Users/claytonc/Desktop/Coding_Stuff/Bootcamp/strangers-things/src/components/Profile.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\n\nconst baseURL = 'https://strangers-things.herokuapp.com/api/2209-FTB-MT-WEB-PT'\n\n\nconst Profile = ({username, password, token}) => {\n    const [messages, setMessages] = useState([]);\n    const [posts, setPosts] = useState([]);\n    \n    useEffect(() => {\n        fetch(`${baseURL}/users/me`, {\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`\n            },\n        })\n            .then (response => response.json())\n            .then (\n                (result) => {\n                    setPosts(result.data.posts);\n                    setMessages(result.data.messages);\n                    console.log(result);\n                    console.log(posts);\n              })             \n}, [])\n\nreturn (\n       \n    <div>\n        <div id=\"profile\">\n            {\n                token ? (\n                    <div>\n                        <h1>Welcome, {`${username}`}!</h1>\n                        <br></br>\n        \n                        <h2>You have {`${posts.length}`} current Posts.</h2>\n\n                        <h2>You have received {`${messages.length}`} Messages.</h2>\n                        <br></br>\n\n                        <div>\n                            <h3>Messages To Me:</h3>\n                            <p>From User: {`${messages.username}`}</p>\n                            <p>{`${messages.content}`}</p>\n                        </div>\n\n                    </div>\n                    ) : (\n                         <p>Sorry, you've reached a restricted page. Please login to view your profile</p>\n                        )\n                }\n            </div>\n        </div>\n               \n        )     \n    }\n\nexport default Profile;"],"mappings":"oJAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAElD,GAAMC,QAAO,CAAG,+DAA+D,CAG/E,GAAMC,QAAO,CAAG,QAAVA,QAAO,MAAoC,IAA/BC,SAAQ,MAARA,QAAQ,CAAEC,QAAQ,MAARA,QAAQ,CAAEC,KAAK,MAALA,KAAK,CACvC,cAAgCL,QAAQ,CAAC,EAAE,CAAC,wCAArCM,QAAQ,eAAEC,WAAW,eAC5B,eAA0BP,QAAQ,CAAC,EAAE,CAAC,yCAA/BQ,KAAK,eAAEC,QAAQ,eAEtBV,SAAS,CAAC,UAAM,CACZW,KAAK,WAAIT,OAAO,cAAa,CACzBU,OAAO,CAAE,CACL,cAAc,CAAE,kBAAkB,CAClC,eAAe,kBAAYN,KAAK,CACpC,CACJ,CAAC,CAAC,CACGO,IAAI,CAAE,SAAAC,QAAQ,QAAIA,SAAQ,CAACC,IAAI,EAAE,GAAC,CAClCF,IAAI,CACD,SAACG,MAAM,CAAK,CACRN,QAAQ,CAACM,MAAM,CAACC,IAAI,CAACR,KAAK,CAAC,CAC3BD,WAAW,CAACQ,MAAM,CAACC,IAAI,CAACV,QAAQ,CAAC,CACjCW,OAAO,CAACC,GAAG,CAACH,MAAM,CAAC,CACnBE,OAAO,CAACC,GAAG,CAACV,KAAK,CAAC,CACxB,CAAC,CAAC,CAChB,CAAC,CAAE,EAAE,CAAC,CAEN,mBAEI,4CACI,2BAAK,EAAE,CAAC,SAAS,EAETH,KAAK,cACD,4CACI,oDAAiBF,QAAQ,MAAS,cAClC,8BAAS,cAET,oDAAiBK,KAAK,CAACW,MAAM,oBAAuB,cAEpD,6DAA0Bb,QAAQ,CAACa,MAAM,eAAkB,cAC3D,8BAAS,cAET,4CACI,gDAAwB,cACxB,qDAAkBb,QAAQ,CAACH,QAAQ,EAAO,cAC1C,uCAAOG,QAAQ,CAACc,OAAO,EAAO,CAC5B,CAEJ,cAED,0GACA,CAEP,CACJ,CAGV,CAAC,CAEL,cAAelB,QAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}