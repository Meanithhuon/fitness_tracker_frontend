{"ast":null,"code":"import _regeneratorRuntime from\"/Users/claytonc/Desktop/Coding_Stuff/Bootcamp/strangers-things/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/claytonc/Desktop/Coding_Stuff/Bootcamp/strangers-things/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/claytonc/Desktop/Coding_Stuff/Bootcamp/strangers-things/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useNavigate,NavLink}from'react-router-dom';var Posts=function Posts(_ref){var token=_ref.token;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var navigate=useNavigate();useEffect(function(){fetch(\"https://strangers-things.herokuapp.com/api/2209-FTB-MT-WEB-PT/posts\",{headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)}}).then(function(response){return response.json();}).then(function(result){setPosts(result.data.posts);console.log(result);});},[token]);var navigateToNewPostForm=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:navigate('/posts/addpost');case 1:case\"end\":return _context.stop();}}},_callee);}));return function navigateToNewPostForm(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",{id:\"posts\"},token?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",null,\"All Posts:\"),/*#__PURE__*/React.createElement(\"button\",{onClick:navigateToNewPostForm},\"Create New Post\")):/*#__PURE__*/React.createElement(\"h1\",null,\"All Posts:\"),posts&&posts.map(function(post){return/*#__PURE__*/React.createElement(\"div\",{key:post._id,className:post.isAuthor?'post-div myPosts':'post-div'},/*#__PURE__*/React.createElement(\"h3\",null,post.title),/*#__PURE__*/React.createElement(\"p\",{className:\"bold\"},\"Description: \",/*#__PURE__*/React.createElement(\"span\",{className:\"normal-font\"},post.description)),/*#__PURE__*/React.createElement(\"p\",{className:\"bold\"},\"Seller: \",/*#__PURE__*/React.createElement(\"span\",{className:\"normal-font\"},post.author.username)),/*#__PURE__*/React.createElement(\"p\",{className:\"bold\"},\"Price: \",/*#__PURE__*/React.createElement(\"span\",{className:\"normal-font\"},post.price)),/*#__PURE__*/React.createElement(\"p\",{className:\"bold\"},\"Location: \",/*#__PURE__*/React.createElement(\"span\",{className:\"normal-font\"},post.location)),post.isAuthor?/*#__PURE__*/React.createElement(\"button\",null,\"Edit\"):null,post.isAuthor?/*#__PURE__*/React.createElement(\"button\",null,\"Delete\"):null,token&&!post.isAuthor?/*#__PURE__*/React.createElement(\"button\",null,\"Send Message\"):null);}));};export default Posts;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","NavLink","Posts","token","posts","setPosts","navigate","fetch","headers","then","response","json","result","data","console","log","navigateToNewPostForm","map","post","_id","isAuthor","title","description","author","username","price","location"],"sources":["/Users/claytonc/Desktop/Coding_Stuff/Bootcamp/strangers-things/src/components/Posts.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useNavigate, NavLink } from 'react-router-dom';\n\nconst Posts = ({token}) => {\n    const [posts, setPosts] = useState([]);\n    const navigate = useNavigate();\n\n    useEffect(() => {\n            fetch(\"https://strangers-things.herokuapp.com/api/2209-FTB-MT-WEB-PT/posts\", {\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${token}` \n                },\n            })\n                .then(response => response.json())\n                .then(\n                    (result) => {\n                        setPosts(result.data.posts);\n                        console.log(result);\n                    }\n                )\n    }, [token])\n\n    const navigateToNewPostForm = async () => {\n        navigate('/posts/addpost');           \n        };\n\n    return (\n        <div id=\"posts\">\n            \n            {\n                token ? (\n                    <div>\n                        <h1>All Posts:</h1>\n                        <button onClick={navigateToNewPostForm}>Create New Post</button>\n                        {/* <button>Send Message</button> */}\n                    </div>\n                ) : (\n                    <h1>All Posts:</h1>\n                )\n            }\n            \n           \n            {\n                posts && posts.map((post) => {\n                    return (\n                        <div key={post._id} className={post.isAuthor ? 'post-div myPosts' : 'post-div'}>\n                            <h3>{post.title}</h3>\n                            <p className='bold'>Description: <span className='normal-font'>{post.description}</span></p>\n                            <p className='bold'>Seller: <span className='normal-font'>{post.author.username}</span></p>\n                            <p className='bold'>Price: <span className='normal-font'>{post.price}</span></p>\n                            <p className='bold'>Location: <span className='normal-font'>{post.location}</span></p>\n                            {post.isAuthor ? <button>Edit</button> : null}\n                            {post.isAuthor ? <button>Delete</button> : null}\n                            {token && !post.isAuthor ? <button>Send Message</button> : null}\n                        </div>\n                    )\n                })\n            }  \n        </div>\n    )\n}\n\nexport default Posts;"],"mappings":"4cAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,CAAEC,OAAO,KAAQ,kBAAkB,CAEvD,GAAMC,MAAK,CAAG,QAARA,MAAK,MAAgB,IAAXC,MAAK,MAALA,KAAK,CACjB,cAA0BJ,QAAQ,CAAC,EAAE,CAAC,wCAA/BK,KAAK,eAAEC,QAAQ,eACtB,GAAMC,SAAQ,CAAGN,WAAW,EAAE,CAE9BF,SAAS,CAAC,UAAM,CACRS,KAAK,CAAC,qEAAqE,CAAE,CACzEC,OAAO,CAAE,CACL,cAAc,CAAE,kBAAkB,CAClC,eAAe,kBAAYL,KAAK,CACpC,CACJ,CAAC,CAAC,CACGM,IAAI,CAAC,SAAAC,QAAQ,QAAIA,SAAQ,CAACC,IAAI,EAAE,GAAC,CACjCF,IAAI,CACD,SAACG,MAAM,CAAK,CACRP,QAAQ,CAACO,MAAM,CAACC,IAAI,CAACT,KAAK,CAAC,CAC3BU,OAAO,CAACC,GAAG,CAACH,MAAM,CAAC,CACvB,CAAC,CACJ,CACb,CAAC,CAAE,CAACT,KAAK,CAAC,CAAC,CAEX,GAAMa,sBAAqB,6FAAG,qIAC1BV,QAAQ,CAAC,gBAAgB,CAAC,CAAC,sDAC1B,kBAFCU,sBAAqB,2CAEtB,CAEL,mBACI,2BAAK,EAAE,CAAC,OAAO,EAGPb,KAAK,cACD,4CACI,2CAAmB,cACnB,8BAAQ,OAAO,CAAEa,qBAAsB,oBAAyB,CAE9D,cAEN,2CACH,CAKDZ,KAAK,EAAIA,KAAK,CAACa,GAAG,CAAC,SAACC,IAAI,CAAK,CACzB,mBACI,2BAAK,GAAG,CAAEA,IAAI,CAACC,GAAI,CAAC,SAAS,CAAED,IAAI,CAACE,QAAQ,CAAG,kBAAkB,CAAG,UAAW,eAC3E,8BAAKF,IAAI,CAACG,KAAK,CAAM,cACrB,yBAAG,SAAS,CAAC,MAAM,+BAAc,4BAAM,SAAS,CAAC,aAAa,EAAEH,IAAI,CAACI,WAAW,CAAQ,CAAI,cAC5F,yBAAG,SAAS,CAAC,MAAM,0BAAS,4BAAM,SAAS,CAAC,aAAa,EAAEJ,IAAI,CAACK,MAAM,CAACC,QAAQ,CAAQ,CAAI,cAC3F,yBAAG,SAAS,CAAC,MAAM,yBAAQ,4BAAM,SAAS,CAAC,aAAa,EAAEN,IAAI,CAACO,KAAK,CAAQ,CAAI,cAChF,yBAAG,SAAS,CAAC,MAAM,4BAAW,4BAAM,SAAS,CAAC,aAAa,EAAEP,IAAI,CAACQ,QAAQ,CAAQ,CAAI,CACrFR,IAAI,CAACE,QAAQ,cAAG,yCAAqB,CAAG,IAAI,CAC5CF,IAAI,CAACE,QAAQ,cAAG,2CAAuB,CAAG,IAAI,CAC9CjB,KAAK,EAAI,CAACe,IAAI,CAACE,QAAQ,cAAG,iDAA6B,CAAG,IAAI,CAC7D,CAEd,CAAC,CAAC,CAEJ,CAEd,CAAC,CAED,cAAelB,MAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}