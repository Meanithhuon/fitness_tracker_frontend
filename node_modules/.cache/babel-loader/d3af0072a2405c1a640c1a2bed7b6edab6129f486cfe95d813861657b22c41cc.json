{"ast":null,"code":"import _regeneratorRuntime from\"/Users/claytonc/Desktop/Coding_Stuff/Bootcamp/strangers-things/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/claytonc/Desktop/Coding_Stuff/Bootcamp/strangers-things/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/claytonc/Desktop/Coding_Stuff/Bootcamp/strangers-things/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useNavigate,NavLink}from'react-router-dom';var Posts=function Posts(_ref){var token=_ref.token;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var navigate=useNavigate();useEffect(function(){fetch(\"https://strangers-things.herokuapp.com/api/2209-FTB-MT-WEB-PT/posts\").then(function(response){return response.json();}).then(function(result){setPosts(result.data.posts);});},[token]);var navigateToNewPostForm=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:navigate('/posts/addpost');// try {\n//     const response = await fetch('https://strangers-things.herokuapp.com/api/2209-FTB-MT-WEB-PT/posts', {\n//         method: \"POST\",\n//         headers: {\n//             'Content-Type': 'application/json',\n//             'Authorization': `Bearer ${token}`\n//         },\n//         body: JSON.stringify({\n//             post: {\n//             title: \"Test Title\",\n//             description: \"Test Description\",\n//             price: \"Test Price\",\n//             willDeliver: true\n//             },\n//         }),\n//     });\n//     const result = await response.json();\n//     console.log(response);\n//     console.log(result);\n// } catch (error) {\n//     console.error(error);\n// }\ncase 1:case\"end\":return _context.stop();}}},_callee);}));return function navigateToNewPostForm(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",{id:\"posts\"},token?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h1\",null,\"All Posts:\"),/*#__PURE__*/React.createElement(\"button\",{onClick:navigateToNewPostForm},\"Create New Post\")):/*#__PURE__*/React.createElement(\"h1\",null,\"All Posts:\"),posts&&posts.map(function(post){return/*#__PURE__*/React.createElement(\"div\",{key:post._id,className:\"post-div\"},/*#__PURE__*/React.createElement(\"h3\",null,post.title),/*#__PURE__*/React.createElement(\"p\",{className:\"bold\"},\"Description: \",/*#__PURE__*/React.createElement(\"span\",{className:\"normal-font\"},post.description)),/*#__PURE__*/React.createElement(\"p\",{className:\"bold\"},\"Seller: \",/*#__PURE__*/React.createElement(\"span\",{className:\"normal-font\"},post.author.username)),/*#__PURE__*/React.createElement(\"p\",{className:\"bold\"},\"Price: \",/*#__PURE__*/React.createElement(\"span\",{className:\"normal-font\"},post.price)),/*#__PURE__*/React.createElement(\"p\",{className:\"bold\"},\"Location: \",/*#__PURE__*/React.createElement(\"span\",{className:\"normal-font\"},post.location)),post.isAuthor?/*#__PURE__*/React.createElement(\"button\",null,\"Edit\"):null,post.isAuthor?/*#__PURE__*/React.createElement(\"button\",null,\"Delete\"):null);}));};export default Posts;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","NavLink","Posts","token","posts","setPosts","navigate","fetch","then","response","json","result","data","navigateToNewPostForm","map","post","_id","title","description","author","username","price","location","isAuthor"],"sources":["/Users/claytonc/Desktop/Coding_Stuff/Bootcamp/strangers-things/src/components/Posts.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useNavigate, NavLink } from 'react-router-dom';\n\nconst Posts = ({token}) => {\n    const [posts, setPosts] = useState([]);\n    const navigate = useNavigate();\n\n    useEffect(() => {\n            fetch(\"https://strangers-things.herokuapp.com/api/2209-FTB-MT-WEB-PT/posts\")\n                .then(response => response.json())\n                .then(\n                    (result) => {\n                        setPosts(result.data.posts)\n                    }\n                )\n    }, [token])\n\n    const navigateToNewPostForm = async () => {\n        navigate('/posts/addpost');\n            // try {\n            //     const response = await fetch('https://strangers-things.herokuapp.com/api/2209-FTB-MT-WEB-PT/posts', {\n            //         method: \"POST\",\n            //         headers: {\n            //             'Content-Type': 'application/json',\n            //             'Authorization': `Bearer ${token}`\n            //         },\n            //         body: JSON.stringify({\n            //             post: {\n            //             title: \"Test Title\",\n            //             description: \"Test Description\",\n            //             price: \"Test Price\",\n            //             willDeliver: true\n            //             },\n            //         }),\n            //     });\n            //     const result = await response.json();\n            //     console.log(response);\n            //     console.log(result);\n            // } catch (error) {\n            //     console.error(error);\n            // }\n           \n        };\n\n    return (\n        <div id=\"posts\">\n            \n            {\n                token ? (\n                    <div>\n                        <h1>All Posts:</h1>\n                            <button onClick={navigateToNewPostForm}>Create New Post</button>\n                    </div>\n                ) : (\n                    <h1>All Posts:</h1>\n                )\n            }\n            \n           \n            {\n                posts && posts.map((post) => {\n                    return (\n                        <div key={post._id} className='post-div'>\n                            <h3>{post.title}</h3>\n                            <p className='bold'>Description: <span className='normal-font'>{post.description}</span></p>\n                            <p className='bold'>Seller: <span className='normal-font'>{post.author.username}</span></p>\n                            <p className='bold'>Price: <span className='normal-font'>{post.price}</span></p>\n                            <p className='bold'>Location: <span className='normal-font'>{post.location}</span></p>\n                            {post.isAuthor ? <button>Edit</button> :null}\n                            {post.isAuthor ? <button>Delete</button> : null}\n                        </div>\n                    )\n                })\n            }  \n        </div>\n    )\n}\n\nexport default Posts;"],"mappings":"4cAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,CAAEC,OAAO,KAAQ,kBAAkB,CAEvD,GAAMC,MAAK,CAAG,QAARA,MAAK,MAAgB,IAAXC,MAAK,MAALA,KAAK,CACjB,cAA0BJ,QAAQ,CAAC,EAAE,CAAC,wCAA/BK,KAAK,eAAEC,QAAQ,eACtB,GAAMC,SAAQ,CAAGN,WAAW,EAAE,CAE9BF,SAAS,CAAC,UAAM,CACRS,KAAK,CAAC,qEAAqE,CAAC,CACvEC,IAAI,CAAC,SAAAC,QAAQ,QAAIA,SAAQ,CAACC,IAAI,EAAE,GAAC,CACjCF,IAAI,CACD,SAACG,MAAM,CAAK,CACRN,QAAQ,CAACM,MAAM,CAACC,IAAI,CAACR,KAAK,CAAC,CAC/B,CAAC,CACJ,CACb,CAAC,CAAE,CAACD,KAAK,CAAC,CAAC,CAEX,GAAMU,sBAAqB,6FAAG,qIAC1BP,QAAQ,CAAC,gBAAgB,CAAC,CACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA,sDAEH,kBAzBCO,sBAAqB,2CAyBtB,CAEL,mBACI,2BAAK,EAAE,CAAC,OAAO,EAGPV,KAAK,cACD,4CACI,2CAAmB,cACf,8BAAQ,OAAO,CAAEU,qBAAsB,oBAAyB,CAClE,cAEN,2CACH,CAKDT,KAAK,EAAIA,KAAK,CAACU,GAAG,CAAC,SAACC,IAAI,CAAK,CACzB,mBACI,2BAAK,GAAG,CAAEA,IAAI,CAACC,GAAI,CAAC,SAAS,CAAC,UAAU,eACpC,8BAAKD,IAAI,CAACE,KAAK,CAAM,cACrB,yBAAG,SAAS,CAAC,MAAM,+BAAc,4BAAM,SAAS,CAAC,aAAa,EAAEF,IAAI,CAACG,WAAW,CAAQ,CAAI,cAC5F,yBAAG,SAAS,CAAC,MAAM,0BAAS,4BAAM,SAAS,CAAC,aAAa,EAAEH,IAAI,CAACI,MAAM,CAACC,QAAQ,CAAQ,CAAI,cAC3F,yBAAG,SAAS,CAAC,MAAM,yBAAQ,4BAAM,SAAS,CAAC,aAAa,EAAEL,IAAI,CAACM,KAAK,CAAQ,CAAI,cAChF,yBAAG,SAAS,CAAC,MAAM,4BAAW,4BAAM,SAAS,CAAC,aAAa,EAAEN,IAAI,CAACO,QAAQ,CAAQ,CAAI,CACrFP,IAAI,CAACQ,QAAQ,cAAG,yCAAqB,CAAE,IAAI,CAC3CR,IAAI,CAACQ,QAAQ,cAAG,2CAAuB,CAAG,IAAI,CAC7C,CAEd,CAAC,CAAC,CAEJ,CAEd,CAAC,CAED,cAAerB,MAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}